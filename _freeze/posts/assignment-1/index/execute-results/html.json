{
  "hash": "e06b22bbde243cde0ff2584e9ce27efd",
  "result": {
    "markdown": "---\ntitle: \"Asignación #1\"\ndate: \"2023-07-24\"\ncategories:\n  - stringr\n  - DT\n  - csv\n---\n\n\n1.  Crear un Rmarkdown que le genere un HTML con lo siguiente\n\n2.  Leer el archivo en formato CSV t mostrarlo con la librería de R- DT\n\n3.  El listado se debe mostrar las columnas necesarias (en el hyperlink no debe mostrar sino la columna que dice Etiqueta)\n\n4.  Coloquele un logo (jpg o png)\n\n5.  Adjunto documento de guía\n\n6.  Fecha de entrega: lunes 24 de julio - 2023\n\n<details>\n\n<summary><b>Respuesta</b></summary>\n\nSe cargan las librerias necesarias.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(stringr)\nlibrary(DT)\n```\n:::\n\n\nSe lee el archivo csv.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfile <- read.csv(file = \"./lista-empresas.csv\")\n```\n:::\n\n\nLas funciones **`link`** y **`tag`** toman un índice como argumento y devuelven el valor correspondiente en la columna **`Link`** y **`Etiqueta`** del objeto **`file`**. El doble corchete **`[[index]]`** se utiliza para acceder a un elemento específico dentro de una lista o un data frame.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlink <- function(index) file$Link[[index]]\ntag <- function(index) file$Etiqueta[[index]]\n```\n:::\n\n\nEsta línea de código asigna a la variable **`iterations`** el número de elementos en la columna **`Link`** del objeto **`file`**.\n\n\n::: {.cell}\n\n```{.r .cell-code}\niterations <- file$Link %>% length() %>% 1:.\n```\n:::\n\n\nLa función **`lapply()`** aplica una función por cada iteración, en cada iteración a traves de la función **`str_glue()`** pasamos el link y la etiqueta, en un código HTML que permite crear enlaces **`<a href=\"url\">name</a>`**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlink_convertion <- lapply(iterations, function(index){\n  return(str_glue(\"<a href='{link(index)}'>{tag(index)}</a>\"))\n})\n```\n:::\n\n\nTransformamos el **`link_convertion`** en filas con **`rbind`** y posteriormente en un dataframe.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnew_links <- link_convertion %>% do.call(rbind,.) %>% data.frame(Enlace = .)\n```\n:::\n\n\nCreamos un dataframe nuevo a partir del csv original, con los datos que necesitamos.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfile_filter <- subset(file, select = c(\"Industria\",\"Derpartmento\"))\n```\n:::\n\n\nCombinamos los 2 nuevos dataframe en columnas con **`cbind`**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnew_file <- cbind(file_filter,new_links)\n```\n:::\n\n\n![](https://www.r-project.org/Rlogo.png){width=\"100\" height=\"100\"}\n\nEl nuevo dataframe resultante de la combinación, lo mostramos en un datatable, con los siguientes parametros:\n\n-   **`filter = \"top\"`**: mustra un barra de busqueda en la parte superior de cada columna.\n\n-   **`class`**: permite agregar clases css como:\n\n    -   **cell-border:** crear bordes por cada celda.\n\n    -   **hover:** permite resaltar las filas cuando se pasa el cursor sobre ellas.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnew_file %>% datatable(escape = FALSE , filter = \"top\", class = 'cell-border hover')\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"datatables html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-5c5fe7c0e36ed92801e8\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-5c5fe7c0e36ed92801e8\">{\"x\":{\"filter\":\"top\",\"vertical\":false,\"filterHTML\":\"<tr>\\n  <td><\\/td>\\n  <td data-type=\\\"character\\\" style=\\\"vertical-align: top;\\\">\\n    <div class=\\\"form-group has-feedback\\\" style=\\\"margin-bottom: auto;\\\">\\n      <input type=\\\"search\\\" placeholder=\\\"All\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\"/>\\n      <span class=\\\"glyphicon glyphicon-remove-circle form-control-feedback\\\"><\\/span>\\n    <\\/div>\\n  <\\/td>\\n  <td data-type=\\\"character\\\" style=\\\"vertical-align: top;\\\">\\n    <div class=\\\"form-group has-feedback\\\" style=\\\"margin-bottom: auto;\\\">\\n      <input type=\\\"search\\\" placeholder=\\\"All\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\"/>\\n      <span class=\\\"glyphicon glyphicon-remove-circle form-control-feedback\\\"><\\/span>\\n    <\\/div>\\n  <\\/td>\\n  <td data-type=\\\"character\\\" style=\\\"vertical-align: top;\\\">\\n    <div class=\\\"form-group has-feedback\\\" style=\\\"margin-bottom: auto;\\\">\\n      <input type=\\\"search\\\" placeholder=\\\"All\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\"/>\\n      <span class=\\\"glyphicon glyphicon-remove-circle form-control-feedback\\\"><\\/span>\\n    <\\/div>\\n  <\\/td>\\n<\\/tr>\",\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\"],[\"Banco\",\"Banco\",\"Banco\",\"Cooperativa\",\"Cooperativa\",\"Cooperativa\",\"Cooperativa\",\"Cooperativa\",\"Cooperativa\",\"Seguros\",\"Seguros\",\"Seguros\",\"Seguros\",\"Seguros\",\"Seguros\",\"Tecnologia\",\"Tecnologia\",\"Tecnologia\"],[\"Recursos Humano\",\"Recursos Humano\",\"Servicio al Cliente\",\"Servicio al Cliente\",\"Asociado\",\"Asociado\",\"Asociado\",\"Asociado\",\"Asociado\",\"Poliza\",\"Poliza\",\"Poliza\",\"Cobros\",\"Cobros\",\"Cobros\",\"Cobros\",\"Servicio al Cliente\",\"Cobros\"],[\"<a href='https://www.banconal.com.pa/'>Banco Nacional<\\/a>\",\"<a href='https://www.banconal.com.pa/'>Banco Nacional<\\/a>\",\"<a href='https://www.banconal.com.pa/'>Banco Nacional<\\/a>\",\"<a href='https://www.coeduco.coop/'>COEDUCO<\\/a>\",\"<a href='https://www.coeduco.coop/'>COEDUCO<\\/a>\",\"<a href='https://www.coeduco.coop/'>COEDUCO<\\/a>\",\"<a href='https://www.cooprofesionales.com.pa/'>Cooperativa Profesionales<\\/a>\",\"<a href='https://www.cooprofesionales.com.pa/'>Cooperativa Profesionales<\\/a>\",\"<a href='https://www.cooprofesionales.com.pa/'>Cooperativa Profesionales<\\/a>\",\"<a href='https://www.iseguros.com/'>Internacional de Seguros<\\/a>\",\"<a href='https://www.iseguros.com/'>Internacional de Seguros<\\/a>\",\"<a href='https://www.iseguros.com/'>Internacional de Seguros<\\/a>\",\"<a href='https://www.sura.com/'>Sura<\\/a>\",\"<a href='https://www.sura.com/'>Sura<\\/a>\",\"<a href='https://www.sura.com/'>Sura<\\/a>\",\"<a href='www.dell.com'>DELL<\\/a>\",\"<a href='www.dell.com'>DELL<\\/a>\",\"<a href='www.dell.com'>DELL<\\/a>\"]],\"container\":\"<table class=\\\"cell-border hover\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Industria<\\/th>\\n      <th>Derpartmento<\\/th>\\n      <th>Enlace<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false,\"orderCellsTop\":true}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n</details>\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\r\n<link href=\"../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/datatables-binding-0.28/datatables.js\"></script>\r\n<script src=\"../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\r\n<link href=\"../../site_libs/dt-core-1.13.4/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\r\n<link href=\"../../site_libs/dt-core-1.13.4/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/dt-core-1.13.4/js/jquery.dataTables.min.js\"></script>\r\n<link href=\"../../site_libs/nouislider-7.0.10/jquery.nouislider.min.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/nouislider-7.0.10/jquery.nouislider.min.js\"></script>\r\n<link href=\"../../site_libs/selectize-0.12.0/selectize.bootstrap3.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/selectize-0.12.0/selectize.min.js\"></script>\r\n<link href=\"../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}